<div class="p-4 bg-white border-b border-slate-200 status-{{ learner.status|lower }}">
    <div class="flex items-center justify-between mb-2">
        <div>
            <p class="font-medium text-slate-800">{{ learner.display_name }}{% if learner.consecutive_absent_days > 0 %} <span class="text-red-500 text-sm">({{ learner.consecutive_absent_days }}d absent)</span>{% endif %}</p>
            <p class="text-xs text-slate-500">{{ learner.learner_id }}</p>
        </div>
        <span class="text-sm font-medium {% if learner.status == 'Present' %}text-green-600{% elif learner.status == 'Absent' %}text-red-600{% elif learner.status == 'Late' %}text-amber-600{% else %}text-slate-400{% endif %}">
            {{ learner.status }}
        </span>
    </div>
    <div class="flex gap-2">
        <form method="POST" action="/attendance/mark/{{ learner.id }}" class="flex-1"
              hx-post="/attendance/mark/{{ learner.id }}" hx-target="#learner-list" hx-swap="innerHTML"
              hx-indicator="#spinner-{{ learner.id }}">
            <input type="hidden" name="status" value="Present">
            <button type="submit" class="w-full py-3 rounded-lg font-medium text-sm active:opacity-50 {% if learner.status == 'Present' %}bg-green-500 text-white{% else %}bg-green-50 text-green-700 border border-green-200{% endif %}">
                ✓ Present
            </button>
        </form>
        <form method="POST" action="/attendance/mark/{{ learner.id }}" class="flex-1"
              hx-post="/attendance/mark/{{ learner.id }}" hx-target="#learner-list" hx-swap="innerHTML">
            <input type="hidden" name="status" value="Absent">
            <button type="submit" class="w-full py-3 rounded-lg font-medium text-sm active:opacity-50 {% if learner.status == 'Absent' %}bg-red-500 text-white{% else %}bg-red-50 text-red-700 border border-red-200{% endif %}">
                ✕ Absent
            </button>
        </form>
        <form method="POST" action="/attendance/mark/{{ learner.id }}" class="flex-1"
              hx-post="/attendance/mark/{{ learner.id }}" hx-target="#learner-list" hx-swap="innerHTML">
            <input type="hidden" name="status" value="Late">
            <button type="submit" class="w-full py-3 rounded-lg font-medium text-sm active:opacity-50 {% if learner.status == 'Late' %}bg-amber-500 text-white{% else %}bg-amber-50 text-amber-700 border border-amber-200{% endif %}">
                ◷ Late
            </button>
        </form>
    </div>
</div>
